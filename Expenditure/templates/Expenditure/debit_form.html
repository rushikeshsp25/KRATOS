{% extends 'Expenditure/base.html' %}
{% block title %}Debits{% endblock %}
{% block body %}
{% load staticfiles %}
<div class="container">
    <div class="card mt-4">
        <h4 class="card-header">Debits</h4>
        <div class="card-body">
            <form class="form-horizontal" role="form" action="" method="post" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label  class="col-form-label">Item<span id="required"> * </span></label>
                        <div class="input-group">
                        <p>{% if form.product_name.errors %}
                            <span class="error">
                                {{ form.product_name.errors|join:", " }}
                            </span>
                            {% endif %}
                        </p>
                        {{form.product_name}}
                        </div>
                    </div>
                    <div class="form-group col-md-6">
                        <label  class="col-form-label">Quantity<span id="required"> * </span></label>
                        <div class="input-group">
                            <p>{% if form.quantity.errors %}
                                <span class="error">
                                    {{ form.quantity.errors|join:", " }}
                                </span>
                                {% endif %}
                            </p>
                            {{form.quantity}}
                            <div class="dropdown">
                                {{form.unit}}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label  class="col-form-label">Price<span id="required"> * </span></label>
                        <p>{% if form.price.errors %}
                            <span class="error">
                                {{ form.price.errors|join:", " }}
                            </span>
                            {% endif %}
                        </p>
                        {{form.price}} RS
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 ">
                        <div>
                            <label  class="col-form-label">Tax<span id="required"> * </span></label><br>
                            <p>{% if form.tax.errors %}
                                <span class="error">
                                    {{ form.tax.errors|join:", " }}
                                </span>
                                {% endif %}
                            </p>
                            {{form.tax}}
                        </div>
                        <div>
                            <label  class="col-form-label">System<span id="required"> * </span></label><br>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    {{form.sys_break}} Breaks
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    {{form.sys_suspension}} Suspension
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    {{form.sys_chasis}} Chasis
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    {{form.sys_engine}} Engine
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <label class="form-check-label">
                                    {{form.sys_misc}} Misc
                                </label>
                            </div>
                        </div>
                        <div class="mt-2">
                            <label>Category:<span id="required"> * </span></label>
                            <div class="dropdown">
                                {{form.category}}
                            </div>
                        </div>

                    </div>
                    <div class="form-group col-md-6">
                        <label  class="col-form-label">Remark:</label>
                        <p>{% if form.remarks.errors %}
                            <span class="error">
                                {{ form.remarks.errors|join:", " }}
                            </span>
                            {% endif %}
                        </p>
                        {{form.remarks}}
                    </div>
                </div>
                <!--2nd row starts
                <div class="form-row">
                <div class="form-group col-lg-12">
                </div>
                </div>-->
                <button type="submit" class="btn btn-success " >Submit</button>
            </form>
        </div>
    </div>
    <br>
    <!--display recent debits-->
    <div class="card">
        <div class="card-header">
            <h3>Recent Debits</h3>
        </div>
        <div class="card-body">
            <p class="card-text">
            <table class="table">
            <thead class="thead-inverse">
            <tr>
                <th>Debit No</th>
                <th>Name of Product</th>
                <th>Price</th>
                <th>Date</th>
                <th>Options</th>
            </tr>
            </thead>
            <tbody>
            {% for debit in debits%}
            <tr>
                <th scope="row">{{debit.id}}</th>
                <td>{{debit.product_name}}</td>
                <td>{{debit.price}}</td>
                <td>{{debit.date_time}}</td>
                <td>
                    <a href="{% url 'Expenditure:edit_debit' debit.id %}">
                        <button type="button" class="btn btn-dark">
                            <span class="glyphicon glyphicon-plus"></span>&nbsp; Edit
                        </button>
                    </a>
                    <a href="{% url 'Expenditure:delete_debit' debit.id %}">
                        <button type="button" class="btn btn-dark">
                            <span class="glyphicon glyphicon-plus"></span>&nbsp; Delete
                        </button>
                    </a>
                </td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
    </p>
            <button type="button" class="btn btn-dark center">Display All Debits</button>
        </div>
    </div>
    <br>
</div>

<!-- JavaScript: placed at the end of the document so the pages load faster -->
{% endblock %}

